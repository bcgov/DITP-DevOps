{"dashboard": {"id": 389040, "teamId": 42823, "userId": 56321, "name": "SSO Production Pods & CPU Terraform", "panels": [{"id": 1, "type": "advancedTimechart", "name": "Total SSO Pod Usage", "description": "The CPU usage of our keycloak pods. Our alerts will begin to trigger when this goes over 3, and at over 5 have noticed serious issues. The dotted line is last weeks values for comparison.", "nullValueDisplayText": null, "links": null, "advancedQueries": [{"query": "avg(sum_over_time(sysdig_container_cpu_cores_used{$__scope}[$__interval]))", "enabled": true, "displayInfo": {"displayName": "", "timeSeriesDisplayNameTemplate": "", "type": "lines"}, "format": {"unit": "number", "inputFormat": "1", "displayFormat": "auto", "decimals": null, "yAxis": "auto", "nullValueDisplayMode": "nullGap", "minInterval": null}, "compareTo": {"enabled": false, "delta": 1, "timeFormat": "day"}}], "legendConfiguration": {"enabled": true, "position": "right", "layout": "table", "showCurrent": true, "width": null, "height": null}, "axesConfiguration": {"bottom": {"enabled": true}, "left": {"enabled": true, "displayName": null, "unit": "auto", "displayFormat": "auto", "decimals": null, "minValue": 0.0, "maxValue": null, "minInputFormat": "ns", "maxInputFormat": "ns", "scale": "linear"}, "right": {"enabled": true, "displayName": null, "unit": "auto", "displayFormat": "auto", "decimals": null, "minValue": 0.0, "maxValue": null, "minInputFormat": "1", "maxInputFormat": "1", "scale": "linear"}}}, {"id": 2, "type": "advancedNumber", "name": "Ready Pod", "description": "Patroni pods are replicas of our database. We are setup to have 3 at any given time. An alert will be triggered if this fails below 3", "nullValueDisplayText": null, "links": null, "advancedQueries": [{"query": "sum(avg_over_time(kube_pod_sysdig_status_ready{$__scope,kube_pod_label_project=~\"sso-keycloak\"}[$__interval]))", "enabled": true, "displayInfo": {"displayName": "", "timeSeriesDisplayNameTemplate": "", "type": "lines"}, "format": {"unit": "number", "inputFormat": "1", "displayFormat": "auto", "decimals": null, "yAxis": "auto", "nullValueDisplayMode": "nullGap", "minInterval": null}, "compareTo": {"enabled": false, "delta": 1, "timeFormat": "day"}}], "numberThresholds": {"values": [], "base": {"severity": "none", "displayText": ""}}}, {"id": 3, "type": "advancedNumber", "name": "Ready Patroni Pods", "description": "Patroni pods are replicas of our database. We are setup to have 3 at any given time. An alert will be triggered if this fails below 3", "nullValueDisplayText": null, "links": null, "advancedQueries": [{"query": "sum(avg_over_time(kube_pod_sysdig_status_ready{$__scope,kube_pod_label_cluster_name=~\"sso-pgsql-prod\"}[$__interval]))", "enabled": true, "displayInfo": {"displayName": "", "timeSeriesDisplayNameTemplate": "", "type": "lines"}, "format": {"unit": "number", "inputFormat": "1", "displayFormat": "auto", "decimals": null, "yAxis": "auto", "nullValueDisplayMode": "nullGap", "minInterval": null}, "compareTo": {"enabled": false, "delta": 1, "timeFormat": "day"}}], "numberThresholds": {"values": [], "base": {"severity": "none", "displayText": ""}}}], "scopeExpressionList": [{"operand": "kubernetes.namespace.name", "operator": "in", "displayName": "", "value": ["e79518-prod"], "descriptor": null, "variable": false, "isVariable": false}], "eventDisplaySettings": {"enabled": false, "queryParams": {"severities": null, "alertStatuses": null, "categories": null, "filter": "", "teamScope": false}}, "shared": true, "public": false, "version": 2, "createdOn": 1679524694014, "modifiedOn": 1679699310977, "description": "managed by terraform", "layout": [{"panelId": 1, "x": 0, "y": 0, "w": 12, "h": 7}, {"panelId": 2, "x": 0, "y": 7, "w": 6, "h": 4}, {"panelId": 3, "x": 6, "y": 7, "w": 6, "h": 4}], "sharingSettings": [{"role": "ROLE_RESOURCE_READ", "member": {"type": "TEAM", "id": 42824, "name": "a99fd4-team", "teamTheme": "#73A1F7"}}], "publicNotation": false, "publicToken": "2ea9cb1a1d284cecae0c2a9e8df26ccd", "favorite": false, "schema": 3, "username": "Rajpal Chauhan (rajpal.chauhan@gov.bc.ca)", "permissions": ["dashboards.edit", "dashboards.delete", "dashboards.transfer", "dashboards.read", "dashboards.sharing"]}}